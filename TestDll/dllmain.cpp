


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 头文件
#include <Windows.h>
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 导出函数
#pragma comment(linker, "/EXPORT:ijlGetLibVersion=ijl15Org.ijlGetLibVersion,@1")
#pragma comment(linker, "/EXPORT:ijlInit=ijl15Org.ijlInit,@2")
#pragma comment(linker, "/EXPORT:ijlFree=ijl15Org.ijlFree,@3")
#pragma comment(linker, "/EXPORT:ijlRead=ijl15Org.ijlRead,@4")
#pragma comment(linker, "/EXPORT:ijlWrite=ijl15Org.ijlWrite,@5")
#pragma comment(linker, "/EXPORT:ijlErrorStr=ijl15Org.ijlErrorStr,@6")
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

DWORD WINAPI TheadProc(PVOID p) 
{
	LoadLibrary(L"GameRes.dll");
	return 0;
}

// 入口函数
BOOL WINAPI DllMain(HMODULE hModule, DWORD dwReason, PVOID pvReserved)
{
	if (dwReason == DLL_PROCESS_ATTACH)
	{
		LoadLibrary(L"CustomGame.bin");
		::CreateThread(0, 0, TheadProc, 0, 0, 0);	
		DisableThreadLibraryCalls(hModule);
	}
	else if (dwReason == DLL_PROCESS_DETACH)
	{
	}

	return TRUE;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
